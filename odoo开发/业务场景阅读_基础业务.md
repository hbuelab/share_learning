MRP采购：
日常工作：
接收采购计划、询价/议价、决定、下PO（采购单）、审核、跟催、收货、付款、退货
产生的单据有：
请购单、采购计划、采购单、询价单，进货单等

ERP财务
采购的财务处理，供应商的发票送至财务部门。采购部门向财务部门申请付款，或者出具供应商签字确认过的采购单复印件至财务部门，代替付款申请。仓库收货后将入库单亦送至财务部门。财务部门凭此
三单（采购部门的付款申请、供应商发票、仓库的入库单），核对三单一致后，记录会计帐务，制定付款计划，按计划付款

销售管理：营销管理的工作有：
(1)发现和评价市场机会；
(2)细分市场和选择目标市场；
(3)发展市场营销组合和决定市场营销预算；
(4)执行和控制市场营销计划。
通常，在ERP软件中，对营销工作的支持是CRM（客户关系管理）模块的功能。销售管理的工作有：
(1)制定销售计划及相应的销售策略；
(2)建立销售组织并对销售人员进行培训；
(3)制定销售人员的个人销售指标，将销售计划转化为销售业绩；
(4)对销售计划的成效及销售人员的工作表现进行评估。
在ERP软件中，对销售管理工作的支持，通常也是CRM模块的范畴。
ERP软件中的销售模块，通常是指，对具体的销售业务工作的支持，即报价、成交、发货、收款、记账的具体业务工作的支持。ERP软件里的销售，通常是指面向机构的销售，而不是面向普通消费者的零售。零售在ERP软件中，通常是POS（Point  Of  Sale）模块的功能。
面向机构的销售业务的基本过程是：挂牌标价→洽谈业务→签订合同→收取货款和发运商品→开具发票及提单→提供售后服务和客户回访。


售业务中的单据主要有销售订单、增值税专用发票和发货单。增值税专用发票的内容有，购货方单位名称、纳税人登记号、开户银行及账号等。
增值税专用发票的联次及其用途：
第一联为存根联，由销货方留存备查。销货方在使用专用发票时，必须按规定保持各联号码连续完整，
不得从专用发票本上撕下。
第二联为发票联，供购货方作记账使用，只属于商事凭证。
第三联为税款抵扣联，是购货方计算进项税额的证明，也是向税款征收机关进行税款抵扣的依据，由
购货方持有。
第四联为记账联，是销货方核算销售额和销项税额的主要依据。



题。系统目前不支持新客户及订单风险的审核流程。作为系统补充，可以采用手工审核的方式。当和客户敲定订单相关事宜，公司内部各项审核要求也通过后，确认报价单，报价单就变成了销售订单。这时，系统会自动生成一张销售凭证（Customer Invoice），送交财务部门，财务部门根据该凭证开发票及记账。系
统还会自动生成出货单，送交仓库，仓库凭此出货。如果销售订单上有些产品是“按订单生产”
（即有订单才启动生产，对应的，另一种方式是“按库存生产”，即不管有无订单，都生产，产成品存入仓库）
则系统会自动生成该产品的生产单（Product Order）。如果需要更复杂的销售订单处理流程，例如，超过一
定金额的要销售主管或者总经理审核，则必须定制销售订单的工作流。这可以在“系统管理”菜单下修改
销售订单的工作流，或者直接修改代码中的工作流定义的XML文件。

发货单是购货方提取商品的凭证，也是供货方开展销售业务的内部凭证。发货单各联次及其用途如下：
第一联为记卡联，销售员记卡留存。
第二联为提货联，购货方凭此提货。
第三联为收款联，财务凭此收款记账。

仓库管理也叫仓储管理，英文Warehouse Management，简称WM，指的是对仓储货物的收发、结存等活动的有效控制。其目的是为企业保证仓储货物的完好无损，确保生产经营活动的正常进行，并在此基础
上对各类货物的活动状况进行分类记录，以明确的图表方式表达仓储货物在数量、品质方面的状况，以及目前所在的地理位置、部门、订单归属和仓储分散程度等情况的综合管理形式。注意仓库管理和库存管理
的区别。库存管理，英文Inventory  Management，是根据外界对库存的要求、企业订购的特点，预测、计划和执行一种补充库存的行为，并对这种行为进行控制，重点在于确定如何订货，订购多少，何时定货。
库存管理的主要工作是规划和保证最合适的库存。仓库管理的主要工作是处理物品入库、出库以及在库保管等具体的业务工作。
仓库管理的基本业务包括：商品入库、商品出库、库房管理等。库房的管理，要根据商品类型的不同，将仓库分成若干库区（Location），分区管理。例如，合格品区、收货区、辅助区、不合格品区。商品储存货架要设置存货卡，商品进出要遵循先进先出的原则。
商品入库是商品进入仓储时所进行的商品接收、卸货、搬运、清点数量、检查质量和办理入库手续等一系列活动的总称。商品入库作业包括商品接运、商品验收、办理入库交接手续等一系列业务活动。商品接运是指仓库对于通过铁路、水运、公路、航空等方式运达的商品，进行接收和提取的工作。商品验收，包括数量点收和质量检验两方面的验收。入库手续主要是指交货单位与库管员之间所办理的交接工作。包
括商品的检查核对，事故的分析、判定，双方认定，在交库单上签字。仓库一面给交货单位签发接收凭证；一面登记入库，并将入库凭证交给会计入账。

商品出库业务，是仓库根据业务部门或存货单位开出的商品出库凭证（提货单、调拨单），按其所列商品编号、名称、规格、型号、数量等项目，组织商品出库一系列工作的总称。商品出库的形式有：
送货
仓库根据货主单位预先送来的“商品调拨通知单”，通过发货作业，把应发商品交由运输部门送达收货单位，这种发货形式就是通常所说的送货制。
自提
由收货人或其代理持“商品调拨通知单”直接到库提取，仓库凭单发货，这种发货形式就是仓库通常所说的提货制。它具有“提单到库，随到随发，自提自运”的特点。
过户
是一种就地划拨的形式，商品虽未出库，但是所有权已从原存货户转移到新存货户。仓库必须根据原存货单位开出的正式过户凭证，才予办理过户手续。
取样
货主单位出于对商品质量检验、样品陈列等需要，到仓库提取货样。仓库也必须根据正式取样凭证才予发给样品，并做好账务记载。
转仓
货主单位为了业务方便或改变储存条件，需要将某批库存商品自甲库转移到乙库，这就是转仓的发货形式。仓库也必须根据货主单位开出的正式转仓单，才予办理转仓手续。
商品出库程序包括核单备料→复核→包装→点交→登账→现场和档案的清理过程。
核单备料
如属自提商品，须检查有无财务部门准许发货的签章。复核，复核内容包括品种数量是否准确，商品质量是否完好，配套是否齐全，技术证件是否齐备，外观质量和包装是否完好，等等。复核后保管员和复核员应在“商品调拨通知单”上签名。
包装
要写明收货单位、到站、发货号、本批总件数、发货单位等。
点交
商品经复核后，如果是本单位内部领料，则将商品和单据当面点交给提货人，办清交接手续；如系送料或将商品调出本单位办理托运的，则与送料人员或运输部门办理交接手续，当面将商品交点清楚。交清后，提货人员应在出库凭证上签章。
登帐
保管员应在出库单上填写实发数、发货日期等内容，并签名。然后将出库单连同有关证件资料，及时交给货主，以使货主办理货款结算。保管员把留存的一联出库凭证交给实物明细账登记人员登记做账。
现场清理
包括清理库存商品、库房、场地、设备和工具等；档案清理是指对收发、保养、盈亏数量和库位、垛位安排等情况进行分析。

仓库管理的常见单据有，商品入库单、商品送货单、物料入库单、物料出库单、物料盘点表、物料退仓单、借物登记表。



第三章 基础业务设置


ERP 管理对象的数字化。业务流程的优化管理

业务伙伴：向谁采购，销售给谁
产品：采购什么，销售什么
仓库：库位
财务：


具体涉及到odoo源码中的数据：

    3.1 业务伙伴的数据设置：

OpenERP的业务伙伴，包括任何和自己有关的单位、个人。可以是客户，也可以是供应商。一个业务
伙伴可以有多个地址，如联络地址、发票地址、送货地址、各办公场所的地址等。
如果安装了base_contact模块，每个地址可以有多个工作职位及对应的联系人。每个联系人可以有多个工作职位、从属于多个业务伙伴，甚至不属于任何业务伙伴（私人地址）。

    3.1.1 业务伙伴是什么
业务伙伴和联系地址。业务伙伴的主要信息存放在数据表res_partner里，一个业务伙伴有多个联系地址，联系地址信息保存在数据表res_partner_address里。res_partner和res_partner_address是One2Many关系。

业务伙伴的库位属性，当从供应商进货或销售给客户时，OpenERP不是直接增加或减少库存数量，而是记录从供应商库位到公司库位的库存移动，以及从公司库位到客户库位的库存移动。业务伙伴的库位属性就是设定此处的供应商库位和客户库位，可以是虚拟的库位，也可以是供应商或客户的真实库位。

    3.1.2 业务伙伴的联系信息 表中包含哪些数据
    
    业务伙伴的联系信息：包括业务伙伴的联系人，地址，电话信息等。

    3.1.3业务伙伴的购销信息

    3.1.4业务伙伴事件

        事件是什么？
        销售人员跟踪客户的过程中，会经常和客户联系。或者拜访、或者电话、或者Email。和客户联系时，会发现客户的某些潜在需求，或是客户不满。和客户的这种沟通以及客户的需求或者态度变化，在OpenERP中使用事件（Event）来记录管理。当销售订单确认时，系统也会自动生成该业务伙伴的“购买事件”记录。
        于此。

    3.1.5 业务伙伴财务信息
        Account Receivable：和客户发生的销售业务记账凭证中，应收账款对应的会计科目。通常是“1014应收账款”总账科目下的以客户单位名称为名的二级科目。该科目在财务模块中设置。简单情况下，也OpenERP应用和开发基础23可以将所有客户都设成“1014 应收账款”科目，设置方法在“管理员”下的“属性”菜单中设置属性。销售业务中，系统会根据这里的设置自动生成会计分录。

        Account Payable：和业务伙伴发生的采购业务记账凭证中，应付账款对应的会计科目。通常是“
        2011 应付账款”总账科目下的以客户单位名称为名的二级科目。

        Fiscal Position：应税设定。通常，在产品信息中设定销售、采购该产品应缴纳的税种。之后，在销售
        订单、采购订单中，系统会自动采用产品上设定的税种计税。但是，有时候，同一产品，针对不同类型客户，其计税方式不同。例如，某产品内销时要计消费税，但外销时不计消费税。那么，对于外销客户，应该采用不同于产品上设定的计税方法计税。
        Fiscal Position就是处理这种情况的。当指定客户的应税设定后，系统会根据应税设定中指定的替换规则将产品中设定的税种换成别的税种计算税额。应税设定在财务模块中设置。

        Payment Term：付款条件，如30日内付全款，或者10日内付30%，20日内再付30%，余款2月内付清。当设置好付款方式后，如该客户未按时付款，系统会自动报警。付款条件在财务模块中设置。

        Total Receivable：该业务伙伴的应收账款总额。

        Total Payable：该业务伙伴的应付账款的总额。

        Credit Limit：该业务伙伴的信用额度。

        Bank Details：该业务伙伴银行帐号相关信息，用于增税发票等单据。

    3.2产品信息设置

    3.2.1 模块设置
        Packing Default Policy    产品发货有两种方式：
        Direct Delivery（有货就发）  All at Once（满足订单发货）

        Shipping Default Policy    开发票方式也有两种：
        Invoice Based on Deliveries（基于发货单开发） Invoice Based on Sales Orders（基于订单开票）

        Steps To Deliver a Sale Order  交付订单步骤也有两种方式：
        Delivery Order Only（交货单） 和Packing List & Delivery Order（发货装箱单和交货单）

        产品单位的配置：
        产品-配置-计量单位-计量单位，包含的信息：
        name

        uom category 单位分类。如重量单位，长度单位，PCB板转换单位等
        
        factor 和rate 单位换算
        
        rounding precision 单位换算精度。
        
        Starte Date 和  End  Date：本价格表生效的时间范围。
        
        Products Listprices Items：价格计算规则，一个价格表可以有多条规则。系统计算产品价格时，按着Sequence从小至大依次检查各个规则，如果符合规则条件，则适用该规则计算价格。规则设置画面如下。
        
        Rules Test  Match：规则适用条件，只有符合本条件，才会使用本规则计算价格。此处的多个条件是AND关系。
        
        Product和Product  Template：Product对象继承自Product  Template，目前两者实质是一样的。如果设置了，表示只有该产品适用本价格计算公式。

        Product Category：如果设置了，表示该产品分类适用本价格计算公式。
        
        Min. Quantity：只有购销数量大于本设置时才适用本价格计算公式。
        
        Sequence：规则序号，系统优先适用序号小的规则。
        
        Price Computation：价格计算公式。
        
        Based on：价格计算基础值，有Public Price，Cost Price，Other Pricelist，Partner section of the product form等选项。
        
        Other Pricelist表示，基于别的价格计算规则算出的值的基础上，再适用本规则的公式。这使得多个价格表可以串联使用。Partner  section  of  the  product form表示，基于产品表单的Supplier Information中设置的单价计算。
        
        New Price：价格计算公式是  New Price = Base Price * ( 1 + X ) + Y。

        Rounding Method：价格精度，计算出来的价格自动舍入变成此值的倍数。例如，如果设成0.05 则计算所得价格为45.66的话，系统会自动转换价格成45.65；如果设成100，价格14567会转换成14600。
        Min. Margin和Max. Margin：利润范围，如果min=10, Max=50, 则新价格必须满足：Base Price + 10 < New Price <BasePrice+50，不在此范围的话，系统自动取该范围的上下限作为新价格。

    3.2.2 产品一般信息
    
        Can be sold:该产品可用于销售，在销售订单中可以选择该产品。

        Can be Purchased:该产品可以采购，在采购订单中可以选择该产品。
        
        Rentable Product:该产品可用于出租。
        
        Va r i a n t s: 产品型号，任意文字。
        
        EAN13: 产品条形码，必须符合条形码格式。
        
        Product  Type: 有三个选项：Stockable  Product、Consumable、Service。
        
            Stockable  Product是通常的可库存的产品，要求进行库存管理。
            
            Consumable是低值易耗品，如螺丝钉。低值易耗品可库存，但系统不记录其库存量，不对
            它做库存管理（默认为取之不竭的东西）。
            
            Service，服务类型的产品，如咨询服务。
        
        Procure Method: 生产类型，有Make to Stock、Make toOrder两个选项。即按库存生产和按订单生产。
        
        属于后者的产品，当有订单时，会根据订单和产品BOM自动生成生产订单或采购订单（取
        决于产品的Supply  Method），启动产品供应。前者则是当库存低于设定的量时才启动供
        应。如果是Service类型的产品，且设定为Make to Order，那么，当有订单时，系统会
        自动生成该服务项目对应的Task（任务，这个时候，产品的BOM相当于是项目的WBS，工作分解结构）
        
        Supply method:      供应方式，有两个选项：Produce、Buy。前者的话，当需要补给该产品时（例如库存
        低于设定量），系统自动生成生产订单。后者的话，当需要补给时，系统自动生成采购订单。
        
        Weigths: 记录产品的体积、毛重、净重信息。
        
        Category: 产品分类。产品分类在“Configuration”菜单中设置。产品分类可以形成树状结构。
        
        Status: 产品所处生命周期阶段。有In Development、In Production、End of Lifecycle、Obsolete几个选项。
        
        Product Manager: 产品经理。
        
        Real Stock:产品实际库存，即目前仓库（包括所有仓库）保有的产品实际数量。
        
        Virtual Stock: 产品预期库存。由于有一些已经确认了的采购订单和销售订单，随着这些订单的入库、
        出库，产品的将来库存量会不同。在库存管理模块中，可以查看产品N天后的预期库存。这里是考虑所有已确认的订单而计算的预期库存，不特指哪一天。
        
        Lots: 生产批号和追踪批号。可以强制要求产品必须有生产批号、进货批号、出货批号。批号在库存模块中设置。
        
        UOM: 产品计量单位。产品可能有多个单位，如电池产品，进货时按“箱”计、销售时按“个”和“盒”
        计。产品计量单位在“Configuration”菜单中设置。OpenERP中的产品计量单位可分类，同一类型的计量单位间可互相换算（不同类型的单位间不可换算）。如电池的三个计量单位（箱、盒、个）可以设成同一类型，可以设置它们间的换算关系，系统会自动换算。

    3.2.3产品供应和仓储信息
        Customer Lead Time: 客户提前期，从确认客户订单的时点，到能给客户发货的时点的估算时间。通      常是一个平均时间。以天为单位。

        Manufacturing Lead Time: 生产提前期，从本产品的生产订单下单的时点，到产品产出的时间。通常
        是一个平均时间。以天为单位。

        Warranty (months): 产品保证期，以月为单位。

        Storage Localisation: 产品在仓库中的存放位置。如行、列、货架。

        Procurement  Location: 采购库位，用于复式库存管理。产品采购引起的库存移动的源库位，通常是
        虚拟库位。

        Production  Location:生产库位，用于复式库存管理。产成品入库引起的库存移动的源库位，可以是
        车间，也可以是虚拟库位。

        Inventory Location:盘点库位，用于复式库存管理。产品盘盈或盘亏引起的库存移动的源库位（盘盈）、目标库位（盘亏）

    3.2.4产品价格和供应商信息
        Cost Price: 产品标准成本价（采购价）。

        Costing Method:成本计算方法，有Standard Price（标准价法）和Average Price（移动平均法）两种。

        Sale Price:产品标准售价。

        Variant Price Margin:产品价格系数。

        Variant Price Extra:产品价格附加。如果没有设置价格表，则产品的销售价格计算方法是：实际售价
        =Sale Price * Variant Price Margin + Variant Price Extra。如果使用价格表，则实际售价根据价格表的规则计算，此两字段无用

        Supplier Information:供应商信息（订货提前期、最低采购量、适用价格表等）。当根据补货要求（如
        库存量低于最小库存规则设定的数量），系统自动生成采购单时，必须要设置好产品的供应商信息，
        否则会发生自动补货异常错误。

        Partner：供应商对应的业务伙伴。

        Priority：当该产品有多个供应商时，Proirity小的优先考虑。

        Partner Product Name：产品名和采购名（供应商产品名）不同时，此处填入采购用产品名。

        Partner Product Code：供应商产品编码。

        Delivery Delay：从订单确认到仓库收到货所需的天数，自动采购时该时间用于计算下单提前期。

        Minimal Quantity：该供应商所能接收的最低采购批量。

        Quantity和Unit Price：根据采购批量设定的采购价格。
    3.2.5产品描述和包装
        产品描述：有Description、Sale Description、Purchase Description三个。后两者会出现于销售、采购订单的备注里。

        产品包装：一种产品可以有多种包装形式，如单件、小盒、大盒、箱装等。可以指定每种包装方式的产品件数、条形码、体积、皮重、毛重、包装材料等。

    3.2.6产品财务信息
    Income Account: 产品收入科目，产品销售业务的会计分录的贷方，通常是“6001 主营业务收入”。借方是应收账款。

    Epense Account: 产品成本科目，产品采购业务的会计分录的借方。对于商业流通企业，通常是“1042 在途物资”。贷方是应付账款。

    Stock Output Account: 产品出库科目，产品出库时会计分录的借方，贷方是库存管理中库位设置时指定的科目。对于商业流通企业，通常是“6015 主营业务成本”，贷方是“1036 库存商品”。

    Stock  Input  Account: 产品入库科目，产品入库时会计分录的贷方，借方是库存管理中库位设置时指定的科目。对于商业流通企业，通常是“1042 在途物资”，借方是“1036 库存商品”。

    Sale Taxes: 产品销售时的税种。销售订单默认采用此处的税种计算税额。税种在财务模块中设置。
    Purchase  Taxes: 产品采购时的税种。采购订单默认采用此处的税种计算税额。税种在财务模块中设置。

    3.3财务数据 
    使用财务模块时，需要设置的数据主要包括会计年度，会计科目表，分类账，税种，付款条件，应税设定。

    3.3.1会计年度
        一个会计年度从1月1日到12月31日。一个会计年度包含若干会计分期（Periods）。在中国，一个会计分期是一个自然月，即从每月1号到月末。

    3.3.2会计科目表
    出了财政部统一制定的会计科目表外，还包括企业自己制定的明细科目，这些科目需要预先导入到系统中。
    在配置-会计-会计科目-会计科目类型上。
    会计科目类型包含的内容：

        Acc.Type Name: 科目类型名，任意文字。

        Code: 科目类型编码，任意文字。

        Sequence: 科目类型显示顺序号，没什么特别意思。

        Sign on Report: 本类型会计科目在报表上的显示符号（正或负）。

        Deferral Method: 递延方法。本类型会计科目从本期结转至下期时的结转方法。有None（不结转）、OpenERP应用和开发基础32 Balance（余额结转）、Detail（原样抄至下期）、Unreconciled（未核销）。系统会根据设置的结转方法，自动将科目结转至下期。如果选择None，则要自己手工填写结转分录，结转科目。Unreconciled主要是指应税账款、应付账款，未核销的应收、应付账款科目应该结转至下期。

        Partner account: 没什么特别意义，仅用于信息显示。

        Parent: 上级科目。

        Account Type: 科目类型，即前文所述中设置的科目类型。

        Internal  Type: 科目内部类型，有Receivable（应收）、Payable（应付）、View（视图）、Consilidation（联合）、Others（其它）、Closed（已关闭）几个类型。应收账款、应付账款通常是Receivable、Payable类型。View类型通常用于上级科目，即有下级科目的科目其类型设为View。View类型的科目不可用于记账，只可用于汇总。

        Reconcile: 可核销，通常只有应收、应付科目才勾选。勾选了的科目，系统允许通过转帐或付现进行核销。

        Display History: 勾选的话，系统打印总帐时，会打印科目的明细记录，而不仅仅只打印科目汇总值。

        Default Taxes: 附加于科目上的税种。

        Consolidated Children: 和Consilidation（联合）类型使用。不是很清楚其用法

    3.3.3分类账
    用于区分不同业务类型的会计分录的概念
    配置-会计科目-会计分类账
        

        Type: 分类账类型，有Sale（销售）、Purchase（采购）、Cash（现金）、Gerneral（通用）、Situation（状况）五个选项。当确认销售凭证，系统自动生成销售分录时，系统会自动查找“Sale”类型的分类账，然后生成销售分录。如果系统找不到销售分类账，则此时的处理会报错。因此，系统至少要设置一个销售分类账。同理，系统至少要设置一个采购分类账（用于系统自动生成采购分录）和现金分类账（用于系统自动生成收、付款分录）。如果不使用系统的自动生成分录的功能，而是完全手工录入分录，则不需要设置上述三个分类账。

        View: 分类账显示视图。该视图定义记账凭证录入界面上应显示的分录字段及显示顺序。可以自定义视图，参见后文“分类账视图定义画面”。

        Entry  Sequence: 该分类账的记账凭证的凭证号序列生成器。即每当录入新分录时，系统调用该序列生成器生成下一个凭证号。由于中国会计要求一个月内的所有凭证都按顺序编号，因此，为了保证同一序号系列，最好所有分类账都用同一个Entry Sequence。Entry Sequence在“管理员”菜单下配置。

        Invoice Sequence: 凭证号用的序列生成器。当分类账用于给凭证（而不是分录）分类时，要求设置该OpenERP应用和开发基础34 序列生成器。

        Default Debit Account: 默认借方科目。当在该分类账上输入分录时，如果已经输入了“贷方”，系统自动使用这里设置的科目生成“借方”行。本设置主要是辅助分录输入。

        Default Credit Account: 默认贷方科目。当在该分类账上输入分录时，如果已经输入了“借方”，系统自动使用这里设置的科目生成“贷方”行。本设置主要是辅助分录输入。

        Entry Controls: 设置该分类账允许使用和限制使用的会计科目。这主要用于减少分录输入错误


    3.3.4税种设置
    odoo中允许定义税种，税额的计算方法，税种对应的会计科目。

    
    3.4 库存信息设置
    3.4.1理解odoo库存管理
    odoo中是通过记录产品在库存间的移动来记录库存数量的，odoo中数据库没有库存数量的字段。库存数量是通过实时计算得来的。记录的是库存移动，记录的数据存储在stock_move表中。
    计算某产品库存数，汇总该商品的所有的库存移动，减去出库的库存移动数量，就是剩余的数量。
    odoo中的设置的可以为有:supplier，costomer,production。
    采购入库时，从供应商的虚拟库位Supplier Location移动到本公司库位，销售出库时，从本公司库位移动到客户的虚拟库位Customer Location。生产原料出库时，从公司库位到虚拟库位Production Location，车间成品入库时，从Production  Location移动到公司库位。甚至库存盘盈盘亏时，系统记录的是公司库位到虚拟库位Inventory loss Loction的库存移动。

    在业务伙伴的Stock Properties中，可以为每一业务伙伴设置Supplier Location和Customer Location。Supplier Location、Customer Location可以是真实的库位，也可以是为了记录库存移动而虚设的库位。在产品的Counter-Part Locations Properties中，可以为每一产品设置Production Location和Inventory loss Loction。同样的，Production  Location、Inventory  loss  Loction可以是真实的，也可以是虚设的。例如，可以将每个生产车间当成一个生产库位进行设置。

    其次，关于虚拟库存。虚拟库存在OpenERP中叫virtual  stock,  futurestock，故名思议，是将来库存，不是现在的库存（现在的库存叫real  stock）。虚拟库存的概念是，将要进货的数量减去将要出货的数量，加上现存的数量，即得虚拟库存。因为2天内和10天内将要进货、出货的数量不同，所以虚拟库存的数量根据计算日期而异。虚拟库存的意义是，例如，某笔销售业务，客户要在5天后提货100件。此时，销售员要检查库存是否足够，但他应该检查的是5天后的库存，而不是现在的库存。所以，对实际业务而言，重要的是虚拟库存，而不是实际库存。

    第三，Warehouse和Location。Warehouse是仓库，对应公司真实存在的仓库。一个仓库通常包含若干个库位（Location），如，合格品区、收货区、辅助区、不合格品区。在OpenERP中，Warehouse包括收货区、出货区、存货区三个库位。当然，简单情况，可以将三个区设成同一个库位。Location是库位，库位可以真实存在，也可以是虚拟的。库位下面还可以包括若干子库位，如下图所示。库存计算、库存移动都是针对库位的，不是针对仓库的。所以，库位是OpenERP库存管理的核心概念。

    第四，库位链。OpenERP中，可以设置库位链来跟踪货物的移动顺序。例如，假如某仓库的入库程序是，收货区Æ验货区Æ存货库区。那么，可以设置库位链：收货区库位Æ验货区库位Æ存货库区库位，当收货人确认后，系统自动增加收货区到验货区的库存移动，验货人确认后，系统自动增加验货区到存货库区的库存移动。也即是，设置好库位链后，货物可以手动或者自动在库位链间移动。
    3.4.2库位和仓库设置


        Location  Type:库位类别，可选类别有：(supplier,Supplier  Location)，(view,View)，(internal,Internal Location)，(customer,Customer    Location)，(inventory,Inventory)，(procurement,Procurement)，(production,Production)。Supplier Location、Customer Location分别对应采购入库的源库位、销售出库的目标库位，可用于业务伙伴的Stock  Properties的设置。View通常是虚拟库位，用于攘括子库位。Internal Location通常是真实的存放货物的库位，和我们一般理解的库区的概念最接近。Inventory是盘盈盘亏的库位，库存盘点时，盘盈的话，相当于从Inventory Location移动到公司库位，盘亏的话相当OpenERP应用和开发基础38 于从公司库位移动到Inventory Location。Production通常对应到生产车间的在产库存。Procurement用于产品设置中的Counter-Part Locations Properties的Procurement库位的设置，具体含义尚不太清楚。

        Inventory Account:入库、出库时的会计科目。产品出库时会计分录的贷方，产品入库时会计分录的借方。对于商业流通企业，通常是“1036 库存商品”。

        Parent Location:父库位。

        Location Address:库位地址，真实库位的话，可以设置库位地址。

        Icon:库位显示用图标，没啥含义。

        Chained  Location  Type:库位链类型，可选项有：(none,None)，(customer,Customer)，(fixed,Fixed Location)。None表示没有库位链，Fied表示本库位链接的下一库位是Chained Location If Fixed所设置的库位，Customer表示本库位链接的下一库位是出入库单上的业务伙伴的“Customer ocation”。

        Chained Location If Fixed:本库位的库位链的下一库位。

        Automatic Move:是否自动移动到库位链的下一库位，可选值有：('auto', 'Automatic Move'), ('manual', 'Manual Operation'), ('transparent', 'Automatic No Step Added')。Automatic Move，系统自动创建一条本库位到下一库位的库存移动记录。Manual Operation，要求手工确认后，系统才会创建库位链间的库存移动记录。Automatic  No  Step  Added，自动沿库位链移动到最终库位，不生成中间各库位间移动的库存移动记录。

        Chained Delay (days):移动到下一库位时，延迟天数。

        Localisation:库位所处地理位置坐标。可以用于计算本库位到客户所在地的距离，从而为客户选择最佳出货仓库

    3.4.3最小库存设置
        Name:订货点（OP，Order Point）名称。

    Location: 本订货点适用库位。

    Product: 本订货点适用产品。比较麻烦的是，OpenERP只能逐个产品设置订货点，不能批量设置。

    Min  Quantity:当库存低于此数量时，启动自动订货流程。系统每天检查库存，如果低于此值，系统自动生成采购申请。

    Max Quantity: 自动补货数量。当库存低于最小库存时，系统自动补货到此值。

    Qty  Multiple:自动补货时，采购数量调整到此值的倍数。例如，根据Max Quantity计算得到补货数量为13，Qty Multiple的值为5，则系统会自动调整补货数量为15（Qty Multiple的倍数）。

    Purchase Order:当自动生成了采购订单时，此处记录当前补货的订单号。
    
    3.4.4库存移动
        每条库存移动记录表示一个产品从源库位到目标库位的一次移动。

        Source Location：本库存移动的源库位。

        Dest. Locationf：本库存移动的目标库位。

        Product：本库存移动的产品。

        Date：本库存移动计划的移动时间，如果移动已经完成，记录实际移动实际。

        Packing List：本库存移动所属的装箱单。

        Production Lot：生产批号，通常是入库或出库时填写，记录本库存移动的产品的生产批号。

        Tra cking  Lo t：跟踪批号，通常是入库或出库时填写，跟踪本库存移动的产品的追溯批号。Splite in production lots：如果本次库存移动的产品含有多个批次，则需要根据批次裂开成多条移动记录。

        Status：可能的状态有，('draft',  'Draft'),  ('waiting',  'Waiting'),  ('confirmed',  'Confirmed'),  ('assigned',  'Available'), ('done', 'Done'), ('cancel', 'Canceled')

    3.4.5装箱单
    
    Partner：本装箱单的业务伙伴，如果是入库单，通常是供应商，如果是出库单，通常是客户。

    Shipping Type：可能的值有，('out', 'Sending Goods'), ('in', 'Getting Goods'), ('internal', 'Internal'), ('delivery', 'Delivery')。对应着出库单、入库单、库间调拨单、发运单。

    Reference：装箱单名称（编号）。

    Date Order：装箱单生成时间。

    Planned Date：计划时间，即库存移动时间。

    Moves：库存移动明细。

    Split move lines in two：将本装箱单裂开成多张装箱单。

    Status：可能的状态有，('draft', 'Draft'), ('auto', 'Waiting'), ('confirmed', 'Confirmed'), ('assigned', 'Available'), ('done', 'Done'), ('cancel', 'Canceled')。

    Validate：确认装箱单，这会使得装箱单的状态由'Available' 变成’Done’。

    Create invoice：画面右边的Actions，用于生成本装箱单对应的财务票据。

    Return packing：画面右边的Actions，用于退货，当本装箱单上的物品不合格，需要退货时，适用此功能。

    3.4.6库存盘点
        
        Stock Inventory Lines：盘点单明细。

        Fill Inventory：右边的Action功能，将选定库位的产品及库存数量，全部列出显示到盘点单上。Set 

        Stock to 0：右边的Action功能，和Fill Inventory功能一样，不同的是，库存数量全清零。Confirm 

        Inventory：使得盘点结果生效，这会影响库存数量，并将自动生成盘盈盘亏的会计分录。

    第四章 实施
    第五章 数据导入与导出

    第六章 开发入门
    第七章 工作流开发
    第八章 报表开发
    第九章 request sequence scheduler
    第十章 权限设置
    第十一章 翻译
    第十二章 模块开发
    第十三章 继承
    第十四章 XML-RPC